local promptRet = {}

local useStudio

local runService = game:GetService("RunService")
local coreGui = game:GetService('CoreGui')
local fin
local tweenService = game:GetService('TweenService')

if runService:IsStudio() then
	useStudio = true
end

local debounce = false

local function open(prompt)
	-- Kod burada devam ediyor, sadece buton için ekleme yapacağım.
	tweenService:Create(prompt.Policy.Actions.Primary, TweenInfo.new(0.6, Enum.EasingStyle.Exponential, Enum.EasingDirection.Out), {
		BackgroundTransparency = 0.3,
		BackgroundColor3 = Color3.fromRGB(255, 0, 0), -- Kırmızı
		ShadowColor3 = Color3.fromRGB(139, 0, 0), -- Gölge Koyu Kırmızı
	}):Play()
end

local function close(prompt)
	-- Kapatma sırasında da aynı renklere dokunulabilir, istersen buraya ekleme yapılır.
	tweenService:Create(prompt.Policy.Actions.Primary, TweenInfo.new(0.4, Enum.EasingStyle.Exponential, Enum.EasingDirection.Out), {
		BackgroundTransparency = 1,
		BackgroundColor3 = Color3.fromRGB(255, 0, 0) -- Kırmızı
	}):Play()
end

function promptRet.create(title, description, primary, secondary, callback)
	local prompt = useStudio and script.Parent:FindFirstChild('Prompt') or game:GetObjects("rbxassetid://97206084643256")[1]

	prompt.Enabled = false

	if gethui then
		prompt.Parent = gethui()
	elseif syn and syn.protect_gui then 
		syn.protect_gui(prompt)
		prompt.Parent = coreGui
	elseif not useStudio and coreGui:FindFirstChild("RobloxGui") then
		prompt.Parent = coreGui:FindFirstChild("RobloxGui")
	elseif not useStudio then
		prompt.Parent = coreGui
	end

	-- Diğer buton düzenlemeleri
	prompt.Policy.Actions.Primary.BackgroundColor3 = Color3.fromRGB(255, 0, 0) -- Kırmızı
	prompt.Policy.Actions.Primary.Title.TextColor3 = Color3.fromRGB(255, 255, 255) -- Yazı beyaz
	prompt.Policy.Actions.Primary.Shadow.ImageColor3 = Color3.fromRGB(139, 0, 0) -- Gölge koyu kırmızı

	-- Eski davranışları koru
	prompt.Policy.Actions.Primary.Interact.MouseButton1Click:Connect(function()
		close(prompt)
		if callback then callback(true) end
	end)

	prompt.Policy.Actions.Secondary.Interact.MouseButton1Click:Connect(function()
		close(prompt)
		if callback then callback(false) end
	end)

	task.wait(0.5)
	task.spawn(open, prompt)
end

return promptRet
